// Copyright (C) 2013, Ryan Bruzan - Nerve Slider v8.5(function(a){function d(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var d=a.originalEvent.changedTouches[0],v=document.createEvent("MouseEvents");v.initMouseEvent(b,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(v)}}a.support.touch="ontouchend"in document;if(a.support.touch){var b=a.ui.mouse.prototype,v=b._mouseInit,n;b._touchStart=function(a){!n&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1, d(a,"mouseover"),d(a,"mousemove"),d(a,"mousedown"))};b._touchMove=function(a){n&&(this._touchMoved=!0,d(a,"mousemove"))};b._touchEnd=function(a){n&&(d(a,"mouseup"),d(a,"mouseout"),this._touchMoved||d(a,"click"),n=!1)};b._mouseInit=function(){this.element.bind("touchstart",a.proxy(this,"_touchStart")).bind("touchmove",a.proxy(this,"_touchMove")).bind("touchend",a.proxy(this,"_touchEnd"));v.call(this)}}})(jQuery); jQuery.fn.nerveShuffle=function(){for(var a,d=0;d<this.length;d++)a=Math.floor(Math.random()*this.length),$(this[d]).before($(this[a]));return this}; (function(a){a.fn.nerveSlider=function(d){var b=a.extend({sliderWidth:"1200px",sliderHeight:"500px",sliderHeightAdaptable:!1,sliderFullscreen:!1,sliderAutoPlay:!0,waitForLoad:!1,slideTransition:"slide",slideTransitionDirection:"left",slideTransitionSpeed:1E3,slideTransitionDelay:5E3,slideTransitionEasing:"swing",slideTransitionStart:function(){},slideTransitionComplete:function(){},slideImageScaleMode:"fill",slideShuffle:!1,slideReverse:!1,showFilmstrip:!1,showCaptions:!0,simultaneousCaptions:!1, showTimer:!0,timerStartWidth:"0%",timerEndWidth:"100%",showPause:!0,showArrows:!0,showDots:!0,showLoadingOverlay:!0,sliderTheme:"light",slidesDraggable:!0,slidesDragLimitFactor:5,allowKeyboardEvents:!0,sliderResizable:!1,sliderKeepAspectRatio:!0,preDelay:0},d);return a(this).each(function(){function d(){a(c).find(".ns_caption").stop().fadeOut(b.slideTransitionSpeed/4,"swing");a(c).find(".ns_timer").stop();"slide"==b.slideTransition?(a(c).find(".ns_selected").hasClass("ns_lastSlide")?(a(c).find(".ns_slidesTrack").stop(!1, !1),a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}),!1===b.sliderHeightAdaptable&&e(),a(c).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").parent().find(".ns_dot:first-child").addClass("ns_selected"),a(c).find(".ns_slideContainer.ns_selected").toggleClass("ns_selected").parent().find(".ns_firstSlide").addClass("ns_selected"), !0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_firstSlide .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),!0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_decoy.ns_fs .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),b.slideTransitionStart(),m[l]=-1*a(c).find(".ns_decoy.ns_fs").data("positionleft")+"%",a(c).find(".ns_slidesTrack").animate(m,b.slideTransitionSpeed,b.slideTransitionEasing,function(){a(c).find(".ns_slidesTrack").css(l,"0%");!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth}, b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_firstSlide .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()})):(a(c).find(".ns_selected").hasClass("ns_firstSlide")?a(c).find(".ns_slidesTrack, .ns_caption").stop(!0,!0):a(c).find(".ns_slidesTrack").stop(!1,!1),a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}), !1===b.sliderHeightAdaptable&&e(),a(c).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").next(".ns_dot").addClass("ns_selected"),a(c).find(".ns_slideContainer.ns_selected").toggleClass("ns_selected").next(".ns_slideContainer").addClass("ns_selected"),!0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),b.slideTransitionStart(),m[l]=-1*a(c).find(".ns_selected").data("positionleft")+"%",a(c).find(".ns_slidesTrack").animate(m, b.slideTransitionSpeed,b.slideTransitionEasing,function(){!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()})),!0===b.sliderHeightAdaptable&&a(c).stop().animate({height:Math.max(a(c).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),a(c).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())}, b.slideTransitionSpeed,b.slideTransitionEasing)):"fade"==b.slideTransition&&(a(c).find(".ns_selected").hasClass("ns_lastSlide")?(a(c).find(".ns_selected").stop(!0,!1),a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}),!1===b.sliderHeightAdaptable&&e(),a(c).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").parent().find(".ns_dot:first-child").addClass("ns_selected"), a(c).find(".ns_slideContainer.ns_selected").animate({opacity:0},b.slideTransitionSpeed,b.slideTransitionEasing).toggleClass("ns_selected").parent().find(".ns_firstSlide").addClass("ns_selected"),a(c).find(".ns_slideContainer").each(function(){a(this).css({"z-index":a(this).data("originalZIndex")})}),a(c).find(".ns_slideContainer.ns_selected").css({"z-index":45}),!0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_firstSlide .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),!0===b.simultaneousCaptions&& a(c).find(".ns_slideContainer.ns_decoy.ns_fs .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),b.slideTransitionStart(),a(c).find(".ns_slideContainer.ns_selected").animate({opacity:1},b.slideTransitionSpeed,b.slideTransitionEasing,function(){!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_firstSlide .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()})): (a(c).find(".ns_selected").stop(!0,!1),a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}),!1===b.sliderHeightAdaptable&&e(),a(c).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").next(".ns_dot").addClass("ns_selected"),a(c).find(".ns_slideContainer.ns_selected").animate({opacity:0},b.slideTransitionSpeed,b.slideTransitionEasing).toggleClass("ns_selected").next(".ns_slideContainer").addClass("ns_selected"), a(c).find(".ns_slideContainer").each(function(){a(this).css({"z-index":a(this).data("originalZIndex")})}),a(c).find(".ns_slideContainer.ns_selected").css({"z-index":45}),!0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),b.slideTransitionStart(),a(c).find(".ns_slideContainer.ns_selected").animate({opacity:1},b.slideTransitionSpeed,b.slideTransitionEasing,function(){!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth}, b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()})),!0===b.sliderHeightAdaptable&&a(c).stop().animate({height:Math.max(a(c).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),a(c).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},b.slideTransitionSpeed,b.slideTransitionEasing))}function n(){a(c).find(".ns_caption").stop().fadeOut(b.slideTransitionSpeed/ 4,"swing");a(c).find(".ns_timer").stop();"slide"==b.slideTransition?(a(c).find(".ns_selected").hasClass("ns_firstSlide")?(a(c).find(".ns_slidesTrack").stop(!1,!1),a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}),!1===b.sliderHeightAdaptable&&e(),a(c).find(".ns_slideContainer.ns_selected").toggleClass("ns_selected").parent().find(".ns_lastSlide").addClass("ns_selected"), !0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_lastSlide .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),m[l]=-1*a(c).find(".ns_decoy.ns_fs").data("positionleft")+"%",a(c).find(".ns_slidesTrack").css(m),a(c).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").parent().find(".ns_dot:last-child").addClass("ns_selected"),b.slideTransitionStart(),m[l]=-1*a(c).find(".ns_lastSlide").data("positionleft")+"%",a(c).find(".ns_slidesTrack").animate(m,b.slideTransitionSpeed, b.slideTransitionEasing,function(){!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_lastSlide .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()})):(a(c).find(".ns_slidesTrack").stop(!1,!1),a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}), !1===b.sliderHeightAdaptable&&e(),a(c).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").prev(".ns_dot").addClass("ns_selected"),a(c).find(".ns_slideContainer.ns_selected").toggleClass("ns_selected").prev(".ns_slideContainer").addClass("ns_selected"),!0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),b.slideTransitionStart(),m[l]=-1*a(c).find(".ns_selected").data("positionleft")+"%",a(c).find(".ns_slidesTrack").animate(m, b.slideTransitionSpeed,b.slideTransitionEasing,function(){!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()})),!0===b.sliderHeightAdaptable&&a(c).stop().animate({height:Math.max(a(c).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),a(c).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())}, b.slideTransitionSpeed,b.slideTransitionEasing)):"fade"==b.slideTransition&&(a(c).find(".ns_selected").hasClass("ns_firstSlide")?(a(c).find(".ns_selected").stop(!0,!1),a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}),!1===b.sliderHeightAdaptable&&e(),a(c).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").parent().find(".ns_dot:last-child").addClass("ns_selected"), a(c).find(".ns_slideContainer.ns_selected").animate({opacity:0},b.slideTransitionSpeed,b.slideTransitionEasing).toggleClass("ns_selected").parent().find(".ns_lastSlide").addClass("ns_selected"),a(c).find(".ns_slideContainer").each(function(){a(this).css({"z-index":a(this).data("originalZIndex")})}),a(c).find(".ns_slideContainer.ns_selected").css({"z-index":45}),!0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_lastSlide .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),b.slideTransitionStart(), a(c).find(".ns_slideContainer.ns_selected").animate({opacity:1},b.slideTransitionSpeed,b.slideTransitionEasing,function(){!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_lastSlide .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()})):(a(c).find(".ns_selected").stop(!0,!1),a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/ 2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}),!1===b.sliderHeightAdaptable&&e(),a(c).find(".ns_dots .ns_dot.ns_selected").toggleClass("ns_selected").prev(".ns_dot").addClass("ns_selected"),a(c).find(".ns_slideContainer.ns_selected").animate({opacity:0},b.slideTransitionSpeed,b.slideTransitionEasing).toggleClass("ns_selected").prev(".ns_slideContainer").addClass("ns_selected"),a(c).find(".ns_slideContainer").each(function(){a(this).css({"z-index":a(this).data("originalZIndex")})}), a(c).find(".ns_slideContainer.ns_selected").css({"z-index":45}),!0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing"),b.slideTransitionStart(),a(c).find(".ns_slideContainer.ns_selected").animate({opacity:1},b.slideTransitionSpeed,b.slideTransitionEasing,function(){!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/ 4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()})),!0===b.sliderHeightAdaptable&&a(c).stop().animate({height:Math.max(a(c).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),a(c).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},b.slideTransitionSpeed,b.slideTransitionEasing))}function B(f,p){a(c).find(".ns_caption").stop().fadeOut(b.slideTransitionSpeed/4,"swing");a(c).find(".ns_timer").stop();a(c).find(".ns_slidesTrack").stop(!1,!1); a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")});a(c).find(".ns_dots .ns_dot.ns_selected, .ns_slideContainer.ns_selected").toggleClass("ns_selected");a(c).find(".ns_slideContainer").eq(p).addClass("ns_selected");a(c).find(".ns_dots .ns_dot").eq(p).addClass("ns_selected");!0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/ 4,"swing");b.slideTransitionStart();m[l]=f;a(c).find(".ns_slidesTrack").animate(m,b.slideTransitionSpeed,b.slideTransitionEasing,function(){!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()});!0===b.sliderHeightAdaptable&&a(c).stop().animate({height:Math.max(a(c).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(), a(c).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},b.slideTransitionSpeed,b.slideTransitionEasing)}function t(){g=!0;a(c).find(".ns_pauseButton div, .ns_timer").stop(!0,!1);a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")});a(c).find(".ns_pauseButton div").animate({"background-position-y":"100%"},b.slideTransitionSpeed/2,b.slideTransitionEasing); a(c).find(".ns_pauseButton").one("click",w)}function w(){g=!1;a(c).find(".ns_pauseButton div, .ns_timer").stop(!0,!0);a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected");a(c).find(".ns_pauseButton div").animate({"background-position-y":"0%"},b.slideTransitionSpeed/2,b.slideTransitionEasing);!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_pauseButton").one("click",t)}function u(){setTimeout(function(){!1=== g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()})},b.preDelay);a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing")}function C(f){!1===b.sliderHeightAdaptable&&e();var p=f.attr("id").replace("ns_dot_","");a(c).find(".ns_caption").stop().fadeOut(b.slideTransitionSpeed/4,"swing");a(c).find(".ns_timer").stop();a(c).find(".ns_selected").stop(!1,!1);a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/ 2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")});a(c).find(".ns_dots .ns_dot.ns_selected").removeClass("ns_selected");f.addClass("ns_selected");a(c).find(".ns_slideContainer.ns_selected").removeClass("ns_selected").animate({opacity:0},b.slideTransitionSpeed,b.slideTransitionEasing);a(c).find(".ns_slideContainer").eq(p).addClass("ns_selected");a(c).find(".ns_slideContainer").each(function(){a(this).css({"z-index":a(this).data("originalZIndex")})}); a(c).find(".ns_slideContainer.ns_selected").css({"z-index":45});!0===b.simultaneousCaptions&&a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/4,"swing");b.slideTransitionStart();a(c).find(".ns_slideContainer.ns_selected").animate({opacity:1},b.slideTransitionSpeed,b.slideTransitionEasing,function(){!1===g&&a(c).find(".ns_timer").animate({width:b.timerEndWidth},b.slideTransitionDelay,"linear",function(){d()});a(c).find(".ns_slideContainer.ns_selected .ns_caption").fadeIn(b.slideTransitionSpeed/ 4,"swing");!1===b.sliderHeightAdaptable&&e();b.slideTransitionComplete()});!0===b.sliderHeightAdaptable&&a(c).stop().animate({height:Math.max(a(c).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),a(c).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},b.slideTransitionSpeed,b.slideTransitionEasing)}function D(){var f,p,e,q,g,k,h=b.slidesDragLimitFactor;a(c).find(".ns_slides").draggable({axis:r,scroll:!1,start:function(b,d){a(c).find(".ns_slideContainer, .ns_slides").stop(!0, !0);f=d.position.left;p=d.position.top},stop:function(m,l){g=a(c).width();k=a(c).height();if("left"==b.slideTransitionDirection||"up"==b.slideTransitionDirection)e=-1*(l.position.left-f),q=-1*(l.position.top-p);else if("right"==b.slideTransitionDirection||"down"==b.slideTransitionDirection)e=l.position.left-f,q=l.position.top-p;if(e>=g/h||q>=k/h)a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}), d();else if(0>e&&e<=-1*(g/h)||0>q&&q<=-1*(k/h))a(c).find(".ns_timer").stop(),a(c).find(".ns_timer").fadeOut(b.slideTransitionSpeed/2,b.slideTransitionEasing,function(){a(c).find(".ns_timer").css({width:b.timerStartWidth}).show().removeClass("ns_selected")}),n();a(c).find(".ns_slides").animate({left:0,top:0},b.slideTransitionSpeed,b.slideTransitionEasing)}})}var c=this;a(c).wrap("<div class='ns_parentReader'></div>");a(c).data("preservedhtml",a(c).parent().html());a(c).unwrap();a(c).before("\x3c!-- Nerve Slider, nerve-slider.ryanbruzan.net --\x3e"); a(c).addClass("ns_nerveSlider");a(c).addClass(b.sliderTheme);!0===b.sliderHeightAdaptable&&a(c).addClass("heightAdaptable");var g=!1;b.sliderWidth=""+b.sliderWidth+"";b.sliderHeight=""+b.sliderHeight+"";var l,r;"left"==b.slideTransitionDirection?(l="left",r="x",a(c).addClass("ns_horizontal")):"right"==b.slideTransitionDirection?(l="right",r="x",a(c).addClass("ns_horizontal")):"up"==b.slideTransitionDirection?(l="top",r="y",a(c).addClass("ns_vertical")):"down"==b.slideTransitionDirection&&(l="bottom", r="y",a(c).addClass("ns_vertical"));var m={};a(c).css({height:b.sliderHeight,width:b.sliderWidth});!0===b.sliderFullscreen&&(b.sliderWidth="100%",b.sliderHeight="100%",b.sliderResizable=!0,a(c).css({height:b.sliderHeight,width:b.sliderWidth,position:"fixed",top:0,right:0,bottom:0,left:0}));var x=a(c).height()/a(c).width(),E=a(c).width()/a(c).height(),y=-50,k=b.sliderWidth,h=b.sliderHeight,k=0<=k.indexOf("%"),h=0<=h.indexOf("%");if(!0===k||!0===h)b.sliderResizable=!0;!0===b.slideShuffle&&a(c).find(">a,>img,>div").nerveShuffle(); !0===b.slideReverse&&a(c).append(a(c).find(">a,>img,>div").get().reverse());a(c).find(">div").each(function(){a(this).addClass("ns_slideContainer")});a(c).find(">a").each(function(){var b=a(this),c=b.attr("href"),d=b.attr("target"),e=b.attr("rel");b.find(">img,>div").attr({"data-linkto":c,"data-linktarget":d,"data-linkrel":e});b.find(">img,>div").unwrap()});a(c).find("img").each(function(){var b=a(this);b.parent().hasClass("ns_nerveSlider")?(b.wrap("<div></div>"),b.parent().attr({"data-slidecaption":b.attr("data-slidecaption"), "data-linkto":b.attr("data-linkto"),"data-linktarget":b.attr("data-linktarget"),"data-linkrel":b.attr("data-linkrel"),"data-imagescalemode":b.attr("data-imagescalemode")}),b.removeAttr("data-slidecaption"),b.removeAttr("data-linkto"),b.removeAttr("data-linktarget"),b.removeAttr("data-linkrel"),b.removeAttr("data-imagescalemode")):b.parent().hasClass("ns_slideContainer")&&(b.parent().attr({"data-slidecaption":b.attr("data-slidecaption"),"data-linkto":b.attr("data-linkto"),"data-linktarget":b.attr("data-linktarget"), "data-linkrel":b.attr("data-linkrel"),"data-imagescalemode":b.attr("data-imagescalemode")}),b.removeAttr("data-slidecaption"),b.removeAttr("data-linkto"),b.removeAttr("data-linktarget"),b.removeAttr("data-linkrel"),b.removeAttr("data-imagescalemode"))});a(c).find(">div").each(function(){var f=a(this);f.addClass("ns_slideContainer");f.find(">img").addClass("ns_slideImage");if(!0===b.showCaptions&&""==!f.attr("data-slidecaption")){var d=f.attr("data-slidecaption");f.append("<div class='ns_caption'><div></div></div>"); f.find(".ns_caption div").html(d);f.removeAttr("data-slidecaption")}if(""==!f.attr("data-linkto")){var d=f.attr("data-linkto"),e=f.attr("data-linktarget"),g=f.attr("data-linkrel");f.find("img.ns_slideImage").wrap("<a href='"+d+"'></a>");f.removeAttr("data-linkto");""==!f.attr("data-linktarget")&&(f.find("a").attr("target",e),f.removeAttr("data-linktarget"));""==!f.attr("data-linkrel")&&(f.find("a").attr("rel",data-g),f.removeAttr("data-linkrel"))}"slide"==b.slideTransition?a(this).data("positionleft", 100*a(this).index()):"fade"==b.slideTransition&&(a(c).find(".ns_slideContainer:first").css({position:"absolute",top:0,left:0,"z-index":45,opacity:1}),a(c).find(".ns_slideContainer:first").data("originalZIndex",44),a(c).find(".ns_slideContainer:not(':first')").each(function(){a(this).css({position:"absolute",top:0,left:0,"z-index":44,opacity:0});a(this).data("originalZIndex",44)}),a(c).find(".ns_firstSlide").css("opacity",1));!0===b.sliderFullscreen&&(f.css({"z-index":y}),--y)});a(c).find(".ns_slideContainer:first-child").addClass("ns_selected"); a(c).find(".ns_slideContainer:first-child").addClass("ns_firstSlide");a(c).find(".ns_slideContainer:last-child").addClass("ns_lastSlide");a(c).find(".ns_caption").each(function(){a(this).hide()});h=a(c).find(".ns_slideContainer").size();1===h&&(b.sliderAutoPlay=!1);"slide"==b.slideTransition&&(a(c).find(".ns_firstSlide").clone().appendTo(a(c)).removeClass("ns_firstSlide").removeClass("ns_selected").addClass("ns_decoy").addClass("ns_fs").data("positionleft",100*a(c).find(".ns_decoy.ns_fs").index()), a(c).find(".ns_lastSlide").clone().appendTo(a(c)).removeClass("ns_lastSlide").removeClass("ns_selected").addClass("ns_decoy").addClass("ns_ls").data("positionleft",100*a(c).find(".ns_decoy.ns_ls").index()),"left"==b.slideTransitionDirection?a(c).find(".ns_decoy.ns_ls").addClass("left"):"right"==b.slideTransitionDirection?a(c).find(".ns_decoy.ns_ls").addClass("right"):"up"==b.slideTransitionDirection?a(c).find(".ns_decoy.ns_ls").addClass("up"):"down"==b.slideTransitionDirection&&a(c).find(".ns_decoy.ns_ls").addClass("down")); "right"==b.slideTransitionDirection?a(c).find(".ns_slideContainer:not('.ns_decoy.ns_ls')").each(function(){a(this).css({right:200*a(this).index()+"%"})}):"down"==b.slideTransitionDirection&&a(c).find(".ns_slideContainer:not('.ns_decoy.ns_ls')").each(function(){a(this).css({bottom:200*a(this).index()+"%"})});!1===!b.showLoadingOverlay&&a(c).find(".ns_slideContainer").has(".ns_slideImage").each(function(){var f=a(this);f.find("img.ns_slideImage").css("opacity",0);f.append("<div class='ns_loadSpinner'><div></div></div>"); f.find(".ns_loadSpinner").show();f.find("img.ns_slideImage").bind("load",function(){f.find(".ns_loadSpinner").remove();f.find("img.ns_slideImage").animate({opacity:1},b.slideTransitionSpeed);!0===b.sliderHeightAdaptable&&a(c).stop().animate({height:Math.max(a(c).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),a(c).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())},b.slideTransitionSpeed,b.slideTransitionEasing)}).each(function(){this.complete&&a(this).load()})}); a(c).find(".ns_slideContainer").each(function(){var b=a(this);b.find("img.ns_slideImage").error(function(){a(this).after("<div class='ns_dummyImage'><div></div></div>");b.find(".ns_dummyImage").show();a(this).remove();b.find(".ns_loadSpinner").remove()})});a(c).prepend("<div class='ns_slides'><div class='ns_slidesTrack'></div></div");a(c).find(".ns_slideContainer").each(function(){a(this).appendTo(a(c).find(".ns_slides .ns_slidesTrack"))});a(c).append("<div class='ns_timer'></div>");!1===b.showTimer&& a(c).find(".ns_timer").css("bottom",-2*a(c).find(".ns_timer").height());a(c).find(".ns_timer").css("width",b.timerStartWidth);a(c).append("<div class='ns_prevButton'><div></div></div>");a(c).append("<div class='ns_nextButton'><div></div></div>");a(c).find(".ns_prevButton").click(n);a(c).find(".ns_nextButton").click(d);!1===b.showArrows&&a(c).find(".ns_nextButton, .ns_prevButton").hide();a(c).append("<div class='ns_pauseButton'><div></div></div>");if(!0===b.sliderAutoPlay)a(c).find(".ns_pauseButton").one("click", t);!1===b.sliderAutoPlay&&t();!1===b.showPause&&a(c).find(".ns_pauseButton").hide();a(c).append("<div class='ns_dots'></div>");for(k=0;k<h;k++)a(c).find(".ns_dots").append("<div class='ns_dot'></div>");var F=0;a(c).find(".ns_dots .ns_dot").each(function(){a(this).attr("id",++F-1);var f=a(this).attr("id");a(this).attr("id","ns_dot_"+f);f=a(this).attr("id").replace("ns_dot_","");"slide"==b.slideTransition?(a(this).data({jumpposition:-100*f+"%"}),a(this).bind("click",function(){var f=a(this);!1===b.sliderHeightAdaptable&& e();var d=f.data("jumpposition"),g=f.attr("id").replace("ns_dot_","");B(d,g);a(c).find(".ns_dots .ns_dot.ns_selected").removeClass("ns_selected");f.addClass("ns_selected")})):"fade"==b.slideTransition&&a(this).bind("click",function(){var b=a(this);C(b)})});a(c).find(".ns_dots .ns_dot:first-child").addClass("ns_selected");!1===b.showDots&&a(c).find(".ns_dots").hide();!0===b.slidesDraggable&&"fade"!=b.slideTransition&&D();!0===b.allowKeyboardEvents&&a(document).keydown(function(b){27==b.keyCode&&(!1== g?t():!0==g&&w());37!=b.keyCode&&38!=b.keyCode||n();39!=b.keyCode&&40!=b.keyCode||d();97<=b.keyCode&&105>=b.keyCode&&a(c).find(".ns_dots .ns_dot").eq(b.keyCode-97).trigger("click");96==b.keyCode&&a(c).find(".ns_dots .ns_dot").eq(9).trigger("click")});if(!0===b.showFilmstrip){a(c).append("<div class='ns_filmstrip'></div>");var z=a(c).find(".ns_filmstrip");a(c).find(".ns_slideContainer:not('.ns_decoy')").each(function(){var b=a(this).find("img").attr("src");z.append("<img src='"+b+"' class='ns_fThumb'>")}); z.find("img.ns_fThumb").each(function(){a(this).bind("click",function(){a(c).find(".ns_dots .ns_dot").eq(a(this).index()).trigger("click")})})}var e,s;e=function(){a(c).find(".ns_slideContainer").each(function(){s=null!=a(this).attr("data-imagescalemode")?a(this).attr("data-imagescalemode"):b.slideImageScaleMode;if("fill"==s){var c=a(this).find(">img.ns_slideImage, >a>img.ns_slideImage");c.one("load",function(){var a=c.parent().width(),b=c.parent().height(),d=c.width(),e=c.height(),g=d/a;e/g<b?(c.css({width:"auto", height:b}),d/=e/b,e=b):(c.css({height:"auto",width:a}),d=a,e/=g);c.css({left:(d-a)/-2,top:(e-b)/-2})}).each(function(){this.complete&&a(this).trigger("load")})}else"fit"==s?(c=a(this).find(">img.ns_slideImage, >a>img.ns_slideImage"),c.one("load",function(){var a=c.width(),b=c.height(),d=c.parent().width(),e=c.parent().height(),g=a/b,h=d/e;h>g?(c.css({height:"100%",width:"auto"}),c.css({"margin-left":(d-a)/2})):h<g&&(c.css({height:"auto",width:"100%"}),c.css({"margin-top":Math.floor((e-b)/2)}))}).each(function(){this.complete&& a(this).trigger("load")})):"stretch"==s?(c=a(this).find(">img.ns_slideImage, >a>img.ns_slideImage"),c.one("load",function(){a(this).css({width:"100%",height:"100%"})}).each(function(){this.complete&&a(this).trigger("load")})):"center"==s&&(c=a(this).find(">img.ns_slideImage, >a>img.ns_slideImage"),c.one("load",function(){var a=c.parent().width(),b=c.parent().height(),d=c.width(),e=c.height();c.css({left:(d-a)/-2,top:(e-b)/-2})}).each(function(){this.complete&&a(this).trigger("load")}))})};!1===b.sliderHeightAdaptable&& e();a(c).append("<div class='ns_extras' style='display:none'></div>");a(c).find(".ns_extras").append("<div class='ns_imgButton'></div>");a(c).find(".ns_extras .ns_imgButton").bind("click",function(){!1===b.sliderHeightAdaptable&&e()});a(c).find(".ns_extras").append("<img src='http://code.ryanbruzan.net/nerveSlider/log/pixel.php?a="+document.URL.replace("http://","[http]").replace("https://","[https]").replace(/\//gi,"[slash]")+"' style='display:none;' class='ns_logImg'>");a(c).find(".ns_extras .ns_logImg").bind("load", function(){a(this).remove()}).each(function(){this.complete&&a(this).load()});if(!0===b.sliderResizable)k=b.sliderWidth,h=b.sliderHeight,k=0<=k.indexOf("%"),h=0<=h.indexOf("%"),!1===b.sliderHeightAdaptable?(!1===k&&!1===h?(a(c).css({"max-width":b.sliderWidth,width:"100%"}),a(window).resize(function(){!0===b.sliderKeepAspectRatio&&a(c).css({height:a(c).width()*x});!1===b.sliderHeightAdaptable&&e()})):(!0===k&&!1===h?(a(c).css({width:b.sliderWidth}),a(window).resize(function(){!0===b.sliderKeepAspectRatio? a(c).css({height:a(c).width()*x}):a(c).css({height:b.sliderHidth});!1===b.sliderHeightAdaptable&&e()})):!0===h&&!1===k?(a(c).css({height:b.sliderHeight}),a(window).resize(function(){!0===b.sliderKeepAspectRatio?a(c).css({"max-width":a(c).height()*E,width:"100%"}):a(c).css({"max-width":b.sliderWidth,width:"100%"});!1===b.sliderHeightAdaptable&&e()})):!0===h&&!0===k&&(a(c).css({width:b.sliderWidth}),a(c).css({height:b.sliderHeight}),a(window).resize(function(){!1===b.sliderHeightAdaptable&&e()})),!1=== b.sliderHeightAdaptable&&e()),a(window).trigger("resize"),u()):!0===b.sliderHeightAdaptable&&(!1===k&&!1===h?a(c).css({"max-width":b.sliderWidth,width:"100%"}):a(c).css({width:b.sliderWidth}),a(c).css({height:Math.max(a(c).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),a(c).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())}),a(window).resize(function(){a(c).css({height:Math.max(a(c).find(".ns_slideContainer.ns_selected img.ns_slideImage").height(),a(c).find(".ns_slideContainer.ns_selected .ns_slideContent").outerHeight())})}), u());else if(!1===b.waitForLoad)u();else{var A=!1;a(c).find("img.ns_slideImage").bind("load",function(){0==a(c).find(".ns_loadSpinner").size()&&!1===A&&(A=!0,u())}).each(function(){this.complete&&a(this).load()})}})};a.fn.startslider=a.fn.nerveSlider})(jQuery);(function(a){a.fn.nextSlide=function(){return a(this).each(function(){a(this).find(".ns_nextButton").trigger("click")})}})(jQuery);(function(a){a.fn.prevSlide=function(){return a(this).each(function(){a(this).find(".ns_prevButton").trigger("click")})}})(jQuery); (function(a){a.fn.gotoSlide=function(d){return a(this).each(function(b){a(this).find(".ns_dots .ns_dot").eq(d-1).trigger("click")})}})(jQuery);(function(a){a.fn.togglePause=function(){return a(this).each(function(){a(this).find(".ns_pauseButton").trigger("click")})}})(jQuery);(function(a){a.fn.fixImages=function(){return a(this).each(function(){a(this).find(".ns_extras .ns_imgButton").trigger("click")})}})(jQuery); (function(a){a.fn.endNerveSlider=function(){return a(this).each(function(){var d=a(this);d.wrap("<div class='ns_parentWriter'></div>");d.parent().html(d.data("preservedhtml"));d=a(".ns_parentWriter>div");d.unwrap()})}})(jQuery);